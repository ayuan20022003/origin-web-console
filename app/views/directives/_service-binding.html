<div class="service-binding">
  <div class="row">
    <div ng-class="{'col-sm-5 col-md-6': $ctrl.isOverview,
                    'col-sm-8 col-md-6 col-lg-8': !$ctrl.isOverview}">
      <h3>
        {{$ctrl.binding.metadata.name}}
        <span ng-if="$ctrl.refApiObject.kind !== 'ServiceInstance'">
          <small ng-if="$ctrl.serviceClass">
            {{$ctrl.serviceClass.spec.externalMetadata.displayName || $ctrl.serviceClass.metadata.name}}
          </small>
          <small>{{$ctrl.binding.spec.instanceRef.name}}</small>
        </span>
        <small>created <span am-time-ago="$ctrl.binding.metadata.creationTimestamp"></span></small>
      </h3>
    </div>
    <div class="col-sm-7 col-md-6" ng-if="!($ctrl.binding | isBindingReady)">
      <status-icon status="'Pending'"></status-icon>Pending
    </div>
  </div>
  <div class="service-binding-actions" ng-if="!$ctrl.binding.metadata.deletionTimestamp">
    <delete-link
      ng-if="({resource: 'serviceinstancecredentials', group: 'servicecatalog.k8s.io'} | canI : 'delete')"
      kind="serviceinstancecredential"
      group="servicecatalog.k8s.io"
      resource-name="{{$ctrl.binding.metadata.name}}"
      project-name="{{$ctrl.binding.metadata.namespace}}"
      stay-on-current-page="true">
    </delete-link>
    <a ng-if="('secrets' | canI : 'get') && ($ctrl.binding | isBindingReady)"
       ng-href="{{$ctrl.binding.spec.secretName | navigateResourceURL : 'Secret' : $ctrl.namespace}}">
      View Secret
    </a>
  </div>
  <div class="service-binding-parameters" ng-if="$ctrl.bindParameterSchema.properties">
    <span class="parameters-heading">Parameters</span>
    <a href="" ng-click="$ctrl.toggleShowParameterValues()" role="button">
      {{$ctrl.showParameterValues ? 'Hide Values' : 'Reveal Values'}}
    </a>
    <form name="ctrl.parametersForm">
      <catalog-parameters
        hide-values="!$ctrl.showParameterValues"
        model="$ctrl.parameterData"
        parameter-form-definition="$ctrl.bindParameterFormDefinition"
        parameter-schema="$ctrl.bindParameterSchema"
        is-horizontal="true"
        read-only="true">
      </catalog-parameters>
    </form>
  </div>
</div>
